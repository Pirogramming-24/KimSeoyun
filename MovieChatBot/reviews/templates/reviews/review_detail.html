{% extends "base.html" %}
{% block content %}

<div class="detail-container">
    <div class="detail-content">
        <!-- ì™¼ìª½: í¬ìŠ¤í„° ì´ë¯¸ì§€ -->
        <div class="detail-poster">
            {% if review.poster_url %}
            <img src="{{ review.poster_url }}" alt="{{ review.title }}">
            {% else %}
            <div class="no-poster-large">
                <span>ğŸ¬</span>
                <p>í¬ìŠ¤í„° ì´ë¯¸ì§€ ì—†ìŒ</p>
            </div>
            {% endif %}
        </div>

        <!-- ì˜¤ë¥¸ìª½: ì˜í™” ì •ë³´ -->
        <div class="detail-info">
            <h1 class="detail-title">{{ review.title }}</h1>

            <div class="info-grid">
                <div class="info-box">
                    <h4 class="info-label">ê°ë…</h4>
                    <p class="info-value">{{ review.director }}</p>
                </div>

                <div class="info-box">
                    <h4 class="info-label">ì£¼ì—°ë°°ìš°</h4>
                    <p class="info-value">{{ review.actor }}</p>
                </div>

                <div class="info-box">
                    <h4 class="info-label">ì¥ë¥´</h4>
                    <p class="info-value">{{ review.genre }}</p>
                </div>

                <div class="info-box">
                    <h4 class="info-label">ê°œë´‰ë…„ë„</h4>
                    <p class="info-value">{{ review.release_year }}ë…„</p>
                </div>

                <div class="info-box">
                    <h4 class="info-label">ëŸ¬ë‹íƒ€ì„</h4>
                    <p class="info-value">{{ review.runtime }}ë¶„</p>
                </div>

                <div class="info-box">
                    <h4 class="info-label">ë³„ì </h4>
                    <p class="info-value rating-stars">
                        {% if review.rating >= 4.5 %}â­â­â­â­â­
                        {% elif review.rating >= 3.5 %}â­â­â­â­â˜†
                        {% elif review.rating >= 2.5 %}â­â­â­â˜†â˜†
                        {% elif review.rating >= 1.5 %}â­â­â˜†â˜†â˜†
                        {% elif review.rating >= 0.5 %}â­â˜†â˜†â˜†â˜†
                        {% else %}â˜†â˜†â˜†â˜†â˜†
                        {% endif %}
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- ë¦¬ë·° ë‚´ìš© ì„¹ì…˜ -->
    <div class="review-section">
        <h3 class="review-section-title">
            <span class="review-icon">ğŸ“</span> ë‚˜ì˜ ë¦¬ë·°
        </h3>
        <div class="review-content-box">
            <p class="review-text">{{ review.content }}</p>
        </div>
    </div>

    <!-- ë²„íŠ¼ ì˜ì—­ -->
    <div class="detail-actions">
        <a href="{% url 'reviews:review_list' %}" class="btn-action btn-back">â† ëª©ë¡ìœ¼ë¡œ</a>
        <div class="action-group">
            <a href="{% url 'reviews:review_update' review.id %}" class="btn-action btn-edit">ìˆ˜ì •</a>
            <form action="{% url 'reviews:review_delete' review.id %}" method="post" style="display: inline;" onsubmit="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');">
                {% csrf_token %}
                <button type="submit" class="btn-action btn-delete">ì‚­ì œ</button>
            </form>
        </div>
    </div>
</div>

{% endblock content %}