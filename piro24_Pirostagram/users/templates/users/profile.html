{% extends 'base.html' %}
{% block content %}
    <div style="display: flex; align-items: center; margin-bottom: 40px; padding: 20px;">
        <div style="flex: 1; text-align: center;">
            <div style="width: 150px; height: 150px; border-radius: 50%; background: #eee; margin: 0 auto;"></div>
        </div>
        <div style="flex: 2;">
            <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 20px;">
                <h2 style="margin: 0;">{{ user_profile.username }}</h2>
                {% if user_profile == request.user %}
                    <a href="#" style="text-decoration: none; color: black; border: 1px solid #dbdbdb; padding: 5px 10px; border-radius: 4px;">프로필 편집</a>
                {% else %}
                    <a href="{% url 'users:toggle_follow' user_profile.username %}" 
                       style="text-decoration: none; color: white; background: {% if is_following %}#8e8e8e{% else %}#0095f6{% endif %}; padding: 5px 20px; border-radius: 4px;">
                        {% if is_following %}팔로잉{% else %}팔로우{% endif %}
                    </a>
                {% endif %}
            </div>
            <div style="display: flex; gap: 30px;">
                <span>게시물 <strong>{{ posts.count }}</strong></span>
                <span>팔로워 <strong>{{ followers_count }}</strong></span>
                <span>팔로잉 <strong>{{ following_count }}</strong></span>
            </div>
        </div>
    </div>

    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
        {% for post in posts %}
            <a href="{% url 'posts:post_detail' post.pk %}">
                <img src="{{ post.image.url }}" style="width: 100%; height: 200px; object-fit: cover;">
            </a>
        {% empty %}
            <p style="grid-column: span 3; text-align: center; color: #8e8e8e;">게시물이 아직 없습니다.</p>
        {% endfor %}
    </div>
{% endblock %}